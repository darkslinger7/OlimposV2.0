<% 
    // Lógica para elegir la imagen de fondo según el hotel
    let bgHotel = 'default.jpg'; 
    if (info.hotel) {
        // Normalizamos el nombre (minusculas, sin espacios) para comparar facil
        let nombre = info.hotel.toLowerCase().replace(/\s+/g, '');
        
        if (nombre.includes('oasis')) bgHotel = 'Oasis.jpg';
        else if (nombre.includes('atenea')) bgHotel = 'Atenea.jpg';
        else if (nombre.includes('paraiso')) bgHotel = 'Paraiso.jpg';
        else if (nombre.includes('brisas')) bgHotel = 'BrisasdelOcaso.png';
        else if (nombre.includes('oso')) bgHotel = 'ElOso.png';
    }
%>

<%- include('../partials/header') %>
<%- include('../partials/sidebar_cliente') %>
<%- include('../partials/navbar', { titulo: 'Bienvenido a Olimpos', icono: 'fa-luggage-cart', usuario }) %>

<style>
    body::before {
        content: "";
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        z-index: -1;
        /* Usamos la variable bgHotel que definimos arriba */
        background-image: url('/img/<%= bgHotel %>');
        background-size: cover;
        background-position: center;
        opacity: 0.15; /* Marca de agua sutil */
        filter: grayscale(20%); /* Un toque elegante */
    }
</style>

<div class="main-content">
  <main class="content">

    <div style="background: linear-gradient(135deg, #3498db, #2c3e50); color: white; padding: 30px; border-radius: 8px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);">
        <h2 style="margin-bottom: 10px; font-weight: 300;">¡Hola, <strong><%= usuario.nombre_apellido %></strong>!</h2>
        <p style="font-size: 1.1rem; opacity: 0.9;">
            Disfruta tu estancia en <strong style="color: #f1c40f;"><%= info.hotel || 'nuestras instalaciones' %></strong>.
        </p>
    </div>

    <section class="tarjetas-panel">
        <div class="tarjeta">
            <div class="icono-tarjeta" style="background: #2ecc71;">
                <i class="fas fa-key"></i>
            </div>
            <div class="info-tarjeta">
                <h3>Mi Habitación</h3>
                <p><%= info.numero || 'Pendiente' %></p>
                <small><%= info.tipo %></small>
            </div>
        </div>

        <div class="tarjeta">
            <div class="icono-tarjeta" style="background: #9b59b6;">
                <i class="fas fa-building"></i>
            </div>
            <div class="info-tarjeta">
                <h3>Ubicación</h3>
                <p style="font-size: 1.2rem;"><%= info.hotel || 'Sin Asignar' %></p>
            </div>
        </div>

        <div class="tarjeta">
            <div class="icono-tarjeta" style="background: #f39c12;">
                <i class="far fa-calendar-alt"></i>
            </div>
            <div class="info-tarjeta">
                <h3>Fecha de Llegada</h3>
                <p style="font-size: 1.2rem;">
                    <%= info.fecha_registro ? new Date(info.fecha_registro).toLocaleDateString() : '--/--/--' %>
                </p>
            </div>
        </div>
    </section>

    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 20px;">
        <a href="/cliente/avisos" style="background: white; padding: 20px; border-radius: 8px; text-decoration: none; color: #333; display: flex; align-items: center; gap: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 5px solid #e74c3c; transition: transform 0.2s;">
            <i class="fas fa-exclamation-circle" style="font-size: 2rem; color: #e74c3c;"></i>
            <div>
                <h4 style="margin: 0;">Reportar Problema</h4>
                <small style="color: #7f8c8d;">Solicitar limpieza o reparación</small>
            </div>
        </a>

        <a href="/cliente/pagos" style="background: white; padding: 20px; border-radius: 8px; text-decoration: none; color: #333; display: flex; align-items: center; gap: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 5px solid #27ae60; transition: transform 0.2s;">
            <i class="fas fa-money-bill-wave" style="font-size: 2rem; color: #27ae60;"></i>
            <div>
                <h4 style="margin: 0;">Reportar Pago</h4>
                <small style="color: #7f8c8d;">Registrar transferencia</small>
            </div>
        </a>
    </div>

  </main>
<%- include('../partials/footer') %>
</div>